<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>First Clue</title>

  <!-- IMPORTANT: this file is in /firstclue, so this relative path is correct -->
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <main class="wrap">
    <div class="layout" id="layout">
      <!-- Hint dock (slides in on the left, cannot be closed) -->
      <aside class="hint-dock" id="hintDock" aria-label="Hint panel">
        <div class="hint-head">
          <div class="hint-title">Hint</div>
        </div>

        <label class="hint-label" for="hintCode">Enter code</label>

        <div class="hint-row">
          <input id="hintCode" type="password" inputmode="numeric" autocomplete="off" />
          <button class="btn btn-primary" id="hintSubmit" type="button">Unlock</button>
        </div>

        <div class="hint-msg" id="hintMsg" aria-live="polite"></div>
      </aside>

      <!-- Main clue card (compresses when hint slides in) -->
      <section class="card" aria-label="Clue card">
        <div class="topbar">
          <div class="brand">Clue</div>
          <button id="hintBtn" class="btn" type="button">Hint</button>
        </div>

        <pre class="clue" id="clueText">
          Fresh greens whisper in a key 
          Mixed with Caesar secretly 
          Jumbled letters disagree 
          Moved one step from what should be 
          Forked up codes won’t let you see 
          Croutons crack cryptically 
          Salad hides it carefully 
          But the shift will set it free 
          Turn it back and you’ll agree

<span class="tiny-footer">.github.io</span></pre>
      </section>
    </div>
  </main>

  <script>
    const hintBtn = document.getElementById('hintBtn');
    const hintDock = document.getElementById('hintDock');
    const hintSubmit = document.getElementById('hintSubmit');
    const hintCode = document.getElementById('hintCode');
    const hintMsg = document.getElementById('hintMsg');

    const CODE = "1324";
    const HINT_TEXT = "Don’t look at the text; look instead at the first column.";

    function openHintDock() {
      document.body.classList.add('hint-open');
      hintBtn.disabled = true;
      hintBtn.textContent = "Hint Open";
      setTimeout(() => hintCode.focus(), 80);
    }

    function unlockHint() {
      const entered = (hintCode.value || "").trim();
      if (entered === CODE) {
        hintMsg.textContent = HINT_TEXT;
        hintMsg.className = "hint-msg ok";
      } else {
        hintMsg.textContent = "Incorrect code.";
        hintMsg.className = "hint-msg bad";
        hintCode.value = "";
        hintCode.focus();
      }
    }

    hintBtn.addEventListener('click', openHintDock);
    hintSubmit.addEventListener('click', unlockHint);

    hintCode.addEventListener('keydown', (e) => {
      if (e.key === "Enter") unlockHint();
    });
  </script>
</body>
</html>
